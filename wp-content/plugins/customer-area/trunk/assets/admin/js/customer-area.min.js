/*! WP Customer Area - Admin JS | 2026-01-15 */
function getLicenseControlApiKeyInput(t){return t.find(".cuar-js-api-key")}function getLicenseControlProductIdInput(t){return t.find(".cuar-js-product-id")}function getLicenseControlActivateButton(t){return t.find(".cuar-js-activate-button")}function getLicenseControlResultContainer(t){return t.find(".cuar-js-result > span")}function getLicenseControlAddOn(t){return getLicenseControlApiKeyInput(t).data("addon")}function activateLicense($,t){var e=getLicenseControlApiKeyInput(t),a=getLicenseControlProductIdInput(t),n=getLicenseControlActivateButton(t),r=getLicenseControlResultContainer(t),o=e.val().trim();if(0!==o.length){var s=a.val();s&&(s=s.trim()),r.html(cuar.checkingLicense).removeClass().addClass("cuar-ajax-running"),e.prop("disabled",!0),a.prop("disabled",!0),n.prop("disabled",!0);var i={action:"cuar_validate_license",addon_id:getLicenseControlAddOn(t),api_key:o,product_id:s,security:cuar.licenseNonce};$.post(cuar.ajaxUrl,i,"json").done(function(t){console.log("[WPCA License] AJAX Response:",t),e.prop("disabled",!1),a.prop("disabled",!1),n.prop("disabled",!1);var o=!1,s="";t.success?t.data&&!0===t.data.success&&!0===t.data.activated?(o=!0,s=t.data.message||cuar.licenseActivated||"License activated successfully!"):t.data&&!1===t.data.success?(o=!1,s=t.data.error||t.data.message||"License activation failed"):t.message?(o=!0,s=t.message):(o=!0,s="License validated successfully"):(o=!1,s=t.data?.message||t.error||"License validation failed"),r.removeClass().addClass(o?"cuar-ajax-success":"cuar-ajax-failure").html(s),setTimeout(function(){console.log("[WPCA License] Reloading page to refresh license status..."),location.reload()},1500)}).fail(function(t,o,s){console.error("[WPCA License] AJAX Network Error:",o,s,t),e.prop("disabled",!1),a.prop("disabled",!1),n.prop("disabled",!1),r.removeClass().addClass("cuar-ajax-failure").html(cuar.unreachableLicenseServerError||"Unable to reach license server"),setTimeout(function(){console.log("[WPCA License] Reloading page after network error..."),location.reload()},2e3)})}else r.html("")}!function($){$.cuar||($.cuar={}),$.cuar.addressManager=function(t,e){var a=this;a.fields=["name","company","line1","line2","zip","city","country","state","vat-number","logo-url"],a.isBusy=!1,a.$el=$(t),a.el=t,a.$el.data("cuar.addressManager",a),a.init=function(){a.options=$.extend({},$.cuar.addressManager.defaultOptions,e),a.$el.on("cuar:address:clear",a._onClearAddress),a.$el.on("cuar:address:set",a._onSetAddress),a.$el.on("cuar:address:get",a._onGetAddress),a.$el.on("cuar:address:getNonce",a._onGetNonce),a.$el.on("cuar:address:getContext",a._onGetContext),a.$el.on("cuar:address:getAddressId",a._onGetAddressId),a.$el.on("cuar:address:isEmpty",a._onIsAddressEmpty),a.$el.on("cuar:address:setBusy",a._onSetBusy),a.$el.on("cuar:address:isBusy",a._onIsBusy),a.$el.on("cuar:address:loadFromOwner",a._onLoadAddressFromOwner),a.$el.on("cuar:address:saveForOwner",a._onSaveAddressForOwner),a.$el.on("click",".cuar-js-action.cuar-js-reset",a._onResetAddressAction)},a._onLoadAddressFromOwner=function(t,e){if(a._onIsBusy())return!1;if(null!=e){if(!a._onIsAddressEmpty()&&!confirm(cuar.addressConfirmLoadAddressFromOwner))return!1;var n={action:"cuar_load_address_from_owner",cuar_nonce:a._onGetNonce(),owner:e,address_id:a._onGetAddressId(),context:a._onGetContext()};a._onSetBusy(null,!0),$.post(cuar.ajaxUrl,n,function(t){a._onSetBusy(null,!1),0!=t.success?null!=t.data.address?a._onSetAddress(null,t.data.address):alert(cuar.addressNoAddressFromOwner):alert(t.data)})}else alert(cuar.addressMustPickOwnerFirst)},a._onSaveAddressForOwner=function(t,e){if(a._onIsBusy())return!1;if(null!=e){if(!confirm(cuar.addressConfirmSaveAddressForOwner))return!1;var n={action:"cuar_save_address_for_owner",cuar_nonce:a._onGetNonce(),owner:e,address_id:a._onGetAddressId(),address:a._onGetAddress(),context:a._onGetContext()};a._onSetBusy(null,!0),$.post(cuar.ajaxUrl,n,function(t){a._onSetBusy(null,!1),0!=t.success||alert(t.data)})}else alert(cuar.addressMustPickOwnerFirst)},a._onResetAddressAction=function(t){return t.preventDefault(),!a._onIsBusy()&&!!confirm(cuar.addressConfirmResetAddress)&&void a._onClearAddress(null)},a._onClearAddress=function(t){a._onSetAddress(null,{name:"",company:"",line1:"",line2:"",zip:"",city:"",vat_number:"",logo_url:"",country:"",state:""})},a._onIsBusy=function(t){return a.isBusy},a._onSetBusy=function(t,e){a.isBusy=e,e?(a._getProgressIndicator().show(),a._getActions().addClass("button-disabled"),a._getInputFields().attr("disabled","disabled"),a._getInputContainers().addClass("disabled")):(a._getProgressIndicator().hide(),a._getActions().removeClass("button-disabled"),a._getInputFields().removeAttr("disabled"),a._getInputContainers().removeClass("disabled"))},a._onIsAddressEmpty=function(t){for(var e=0;e<a.fields.length;e++){var n=a.fields[e],r=a._getField(n).val();if(null!=r&&r.length>0)return!1}return!0},a._onGetAddress=function(t){for(var e={},n=0;n<a.fields.length;n++){var r=a.fields[n];e[r]=a._getField(r).val()}return e},a._onSetAddress=function(t,e){for(var n=0;n<a.fields.length;n++){var r=a.fields[n],o=a._getField(r);"country"===r?o.val(e[r]).trigger("change"):"state"===r?(o.val(e[r]),o.data("pending-value",e[r])):"vat-number"===r?o.val(e.vat_number):"logo-url"===r?o.val(e.logo_url):o.val(e[r])}},a._onGetNonce=function(){return $("input[name=cuar_nonce]",a.el).val()},a._onGetAddressId=function(){return a.$el.data("address-id")},a._onGetContext=function(){return a.$el.data("context")},a._getField=function(t){var e=".cuar-js-address-";return $(e+="vat_number"===t?"vat-number":"logo_url"===t?"logo-url":t,a.el).find(".cuar-js-address-field:input")},a._getActions=function(){return $(".cuar-js-action",a.el)},a._getProgressIndicator=function(){return $(".cuar-js-progress",a.el)},a._getInputFields=function(){return $(".cuar-js-address-field",a.el)},a._getInputContainers=function(){return $(".cuar-js-address-field-container",a.el)},a.init()},$.cuar.addressManager.defaultOptions={},$.fn.addressManager=function(t){return this.each(function(){new $.cuar.addressManager(this,t)})}}(jQuery),function($){$.cuar||($.cuar={}),$.cuar.bindCountryStateInputs=function(t,e){var a=this;a.$el=$(t),a.el=t,a.isBusy=!1,a.$el.data("cuar.bindCountryStateInputs",a),a.init=function(){if(null===$.cuar.bindCountryStateInputs.defaultOptions.select2.dropdownParent){var t=$("body");$.cuar.bindCountryStateInputs.defaultOptions.select2.dropdownParent=t.hasClass("wp-admin")?t:$("#cuar-js-content-container")}a.options=$.extend({},$.cuar.bindCountryStateInputs.defaultOptions,e),a._getCountryField().cuarSelect2(a.options.select2),a._getStateField().cuarSelect2(a.options.select2),a._getCountryField().on("change",a._onCountryChanged)},a._onCountryChanged=function(){var t=a._getCountryField(),e=a._getStateField(),n=a._getStateFieldContainer(),r=t.val();if(null!==r&&0!==r.length&&void 0!==r){var o={action:"cuar_get_country_states",country:r,address_id:a._getAddressId(),cuar_nonce:a._getNonce(),context:a._getContext()};a._setAddressBusy(!0),$.post(cuar.ajaxUrl,o,function(t){a._setAddressBusy(!1),0!=t.success?(null!=t.data.states?(e.html(t.data.htmlOptions).cuarSelect2(a.options.select2),e.val(e.data("pending-value")).trigger("change"),n.show()):(e.val("").trigger("change"),n.hide()),e.data("pending-value","")):alert(t.data)})}else n.hide()},a._isAddressBusy=function(){return a._getFieldContainer().triggerHandler("cuar:address:setBusy")},a._setAddressBusy=function(t){a._getFieldContainer().trigger("cuar:address:setBusy",[t])},a._getFieldContainer=function(){return a.$el.parents(a.options.fieldContainer)},a._getNonce=function(){return a._getFieldContainer().triggerHandler("cuar:address:getNonce")},a._getContext=function(){return a._getFieldContainer().triggerHandler("cuar:address:getContext")},a._getAddressId=function(){return a._getFieldContainer().triggerHandler("cuar:address:getAddressId")},a._getCountryField=function(){return $(a.options.countrySelector,a.el).find("select")},a._getStateFieldContainer=function(){return $(a.options.stateSelector,a.el)},a._getStateField=function(){return $(a.options.stateSelector,a.el).find("select")},a.init()},$.cuar.bindCountryStateInputs.defaultOptions={fieldContainer:".cuar-js-address",countrySelector:".cuar-js-address-country",stateSelector:".cuar-js-address-state",select2:{width:"100%",allowClear:!0,placeholder:"",dropdownParent:null}},$.fn.bindCountryStateInputs=function(t){return this.each(function(){new $.cuar.bindCountryStateInputs(this,t)})}}(jQuery),function($){$.cuar||($.cuar={}),$.cuar.classicUploader=function(t,e){var a=this;a.$el=$(t),a.el=t,a.$el.data("cuar.classicUploader",a),a.uploadsInProgress=0,a.init=function(){a.options=$.extend({},$.cuar.classicUploader.defaultOptions,e),a._getFileInput().css({opacity:0});var t=a._getPostId(),n={action:"cuar_attach_file",method:"classic-upload",post_id:t};n["cuar_classic-upload_"+t]=a._getNonce();var r=a._getDropZone();r.fileupload({url:cuar.ajaxUrl,dataType:"json",paramName:"cuar_file",formData:n,sequentialUploads:!0,dropZone:r,add:a._onFileUploadAdd,done:a._onFileUploadDone,fail:a._onFileUploadFail,progress:a._onFileUploadProgress}),$(document).bind("dragover",a._onDragOverDropZone)},a._onDragOverDropZone=function(t){var e=a._getDropZone(),n=window.dropZoneTimeout;n?clearTimeout(n):e.addClass("in");var r=!1,o=t.target;do{if(o===e[0]){r=!0;break}o=o.parentNode}while(null!=o);r?e.addClass("hover"):e.removeClass("hover"),window.dropZoneTimeout=setTimeout(function(){window.dropZoneTimeout=null,e.removeClass("in hover")},100)},a._onFileUploadAdd=function(t,e){a._updateButtonState("disable");for(var n=0,r=e.files.length;n<r;n++){var o=e.files[n].name;if(e.files[n].attachmentItem=$(document).triggerHandler("cuar:attachmentManager:addItem",[a._getPostId(),o,o]),null==e.files[n].attachmentItem)return!1;$(document).trigger("cuar:attachmentManager:updateItemState",[e.files[n].attachmentItem,"pending"])}e.submit()},a._onFileUploadDone=function(t,e){for(var n=0,r=e.files.length;n<r;n++)if(e.result.success){var o=e.result.data.file,s=e.result.data.caption;$(document).trigger("cuar:attachmentManager:updateItem",[e.files[n].attachmentItem,a._getPostId(),o,s]),$(document).trigger("cuar:attachmentManager:updateItemState",[e.files[n].attachmentItem,"success"])}else{var i=null;e.result.data.length>0&&(i=e.result.data[0]),$(document).trigger("cuar:attachmentManager:showError",[e.files[n].attachmentItem,e.files[n].name,i,!0])}a._updateButtonState("enable")},a._updateButtonState=function(t){var e=a.$el.closest(".cuar-js-wizard-section").find(".cuar-submit-container > input[type=submit]");void 0===t||"disable"===t?(a.uploadsInProgress++,e.addClass("disabled")):"enable"===t&&(a.uploadsInProgress--,0===a.uploadsInProgress&&e.removeClass("disabled"))},a._onFileUploadFail=function(t,e){for(var a=0,n=e.files.length;a<n;a++)$(document).trigger("cuar:attachmentManager:showError",[e.files[a].attachmentItem,e.files[a].name,e.errorThrown,!0])},a._onFileUploadProgress=function(t,e){for(var a=0,n=e.files.length;a<n;a++){var r=parseInt(e.loaded/e.total*100,10);$(document).trigger("cuar:attachmentManager:updateItemProgress",[e.files[a].attachmentItem,r])}},a._getNonce=function(){return $("#cuar_classic-upload_"+a._getPostId(),a.el).val()},a._getPostId=function(){return a.$el.data("post-id")},a._getDropZone=function(){return $(a.options.dropzone,a.el).first()},a._getFileInput=function(){return $(a.options.fileInput,a.el).first()},a.init()},$.cuar.classicUploader.defaultOptions={dropzone:".cuar-js-dropzone",fileInput:".cuar-js-file-input"},$.fn.classicUploader=function(t){return this.each(function(){new $.cuar.classicUploader(this,t)})}}(jQuery),function($){$.cuar||($.cuar={}),$.cuar.fileAttachmentManager=function(t,e){var a=this;a.$el=$(t),a.el=t,a.$el.data("cuar.fileAttachmentManager",a),a.init=function(){a.options=$.extend({},$.cuar.fileAttachmentManager.defaultOptions,e),a._getSelectors().first().show(),$(document).on("change",a.options.selectorInput,a._onSelectorInputChanged),a._getAttachmentList().on("click",a.options.removeAction,a._onRemoveActionClick),a._getErrorList().on("click",a.options.dismissAction,a._onDismissError),$(document).on("cuar:attachmentManager:addItem",a._onAddAttachmentItem),$(document).on("cuar:attachmentManager:sendFile",a._onSendFile),$(document).on("cuar:attachmentManager:updateFile",a._onUpdateFile),$(document).on("cuar:attachmentManager:updateItem",a._onUpdateAttachmentItem),$(document).on("cuar:attachmentManager:updateItemProgress",a._onUpdateAttachmentItemProgress),$(document).on("cuar:attachmentManager:updateItemState",a._onUpdateAttachmentItemState),$(document).on("cuar:attachmentManager:showError",a._onShowError)},a._onShowError=function(t,e,n,r,o){a._showError(e,n,r,o)},a._onUpdateAttachmentItem=function(t,e,n,r,o){0!=e.length?a._updateAttachmentItem(e,n,r,o):console.log("_onUpdateAttachmentItem :: Item for not found")},a._onUpdateAttachmentItemProgress=function(t,e,n){0!=e.length?a._updateAttachmentItemProgress(e,n):console.log("_onUpdateAttachmentItemProgress :: Item not found")},a._onUpdateAttachmentItemState=function(t,e,n){0!=e.length?a._updateAttachmentItemState(e,n):console.log("_onUpdateAttachmentItemState :: Item not found")},a._onSelectorInputChanged=function(){var t=a._getSelectors(),e=$(this).val(),n=t.filter(function(){return $(this).data("method")==e});if(!n.is(":visible")){var r=t.filter(":visible");r.length<=0?n.fadeIn():r.fadeOut("fast",function(){n.fadeIn()})}},a._onRemoveActionClick=function(t){if(t.preventDefault(),confirm(cuar.confirmDeleteAttachedFile)){var e=$(this).closest(a.options.attachmentItem),n=e.data("post-id"),r=e.data("filename"),o=a._getAttachmentListRemoveNonce();a._updateAttachmentItemState(e,"pending");var s={action:"cuar_remove_attached_file",post_id:n,filename:r,cuar_remove_attachment_nonce:o};$.post(cuar.ajaxUrl,s,function(t){if(0==t.success){var n="";t.data.length>0&&(n=t.data[0]),a._showError(e,r,n,!1)}else a._removeItem(e)})}},a._onSendFile=function(t,e,n,r,o,s,i,c){var u=i;void 0!==i&&0!=i.trim().length||(u=s),a._updateAttachmentItem(e,r,s,u),a._updateAttachmentItemState(e,"pending");var d={action:"cuar_attach_file",method:n,post_id:r,filename:s,caption:u,extra:c};d["cuar_"+n+"_"+r]=o,$.post(cuar.ajaxUrl,d,function(t){if(0==t.success){var n="";t.data.length>0&&(n=t.data[0]),a._showError(e,s,n,!0)}else{var o=t.data.file,i=t.data.caption;a._updateAttachmentItem(e,r,o,i),a._updateAttachmentItemState(e,"success"),$(document).trigger("cuar:attachmentManager:fileAttached",[e,r,s,o,i])}})},a._onUpdateFile=function(t,e,n,r,o,s){var i=s;void 0!==s&&0!=s.trim().length||(i=o),a._updateAttachmentItemState(e,"pending");var c={action:"cuar_update_attached_file",post_id:n,filename:o,caption:i,cuar_update_attachment_nonce:r};$.post(cuar.ajaxUrl,c,function(t){if(0==t.success){var r="";t.data.length>0&&(r=t.data[0]),a._showError(e,o,r,!0)}else{var s=t.data.file,i=t.data.caption;a._updateAttachmentItem(e,n,s,i),a._updateAttachmentItemState(e,"success")}})},a._onAddAttachmentItem=function(t,e,n,r,o){if(cuar.maxAttachmentCount>0&&a._getAttachmentItems().length>=cuar.maxAttachmentCount)return a._showError(null,n,cuar.tooManyAttachmentsAlready,!0),null;var s=a._getAttachmentTemplate().clone();return s.appendTo(a.options.attachmentList),a._updateAttachmentItem(s,e,n,r),a._getAttachmentListEmptyMessage().hide(),s},a._removeItem=function(t){t.fadeOut(400,function(){a._getAttachmentItems().length<=1&&a._getAttachmentListEmptyMessage().show(),t.remove()})},a._updateAttachmentItem=function(t,e,a,n){void 0!==n&&0!==n.trim().length||(n=a),t.data("post-id",e),t.data("filename",a),t.children(".cuar-js-caption").html(n)},a._updateAttachmentItemState=function(t,e){t.removeClass(function(t,e){return(e.match(/(^|\s)cuar-js-state-\S+/g)||[]).join(" ")}),t.addClass("cuar-js-state-"+e);var n=t.children(".cuar-js-actions"),r=t.children(".cuar-js-progress");switch(e){case"pending":n.hide(),r.show(),a._updateAttachmentItemProgress(t,0);break;case"error":case"success":n.show(),r.hide()}$(document).trigger("cuar:attachmentManager:itemStateUpdated",[t,e])},a._updateAttachmentItemProgress=function(t,e){var a=t.children(".cuar-js-progress"),n=a.find(".cuar-js-progress-bar"),r=a.find(".cuar-js-progress-label");a.show(),e<=0?(n.addClass("cuar-js-indeterminate").addClass("progress-bar-striped").addClass("active").css({width:"100%"}).attr("aria-valuenow","100"),r.hide().html("")):(n.removeClass("cuar-js-indeterminate").removeClass("progress-bar-striped").removeClass("active").css({width:e+"%"}).attr("aria-valuenow",e),r.show().html(e+"%"))},a._showError=function(t,e,n,r){if(null!==t&&(console.log(t),console.log(r),r?a._removeItem(t):a._updateAttachmentItemState(t,"error")),null!=n&&n.length>0){null!=e&&e.length>0&&(n="<strong>"+e+"</strong> - "+n);var o=a._getErrorTemplate().clone();o.find(".cuar-js-message").html(n),o.appendTo(a.options.errorList,a.el),o.show()}},a._onDismissError=function(t){$(this).closest(".cuar-js-error").remove(),t.preventDefault()},a._getErrorList=function(){return $(a.options.errorList,a.el)},a._getAttachmentList=function(){return $(a.options.attachmentList)},a._getAttachmentListEmptyMessage=function(){return a._getAttachmentList().find(".cuar-js-empty-message")},a._getAttachmentItems=function(){return a._getAttachmentList().find(a.options.attachmentItem)},a._getAttachmentItemByFilename=function(t){return a._getAttachmentItems().filter(function(){return $(this).data("filename")==t})},a._getAttachmentListRemoveNonce=function(){return $("#cuar_remove_attachment_nonce",a._getAttachmentList()).val()},a._getErrorTemplate=function(){return $(a.options.errorTemplate,a.el).children(".cuar-js-error").first()},a._getAttachmentTemplate=function(){return $(a.options.attachmentItemTemplate).find(a.options.attachmentItem).first()},a._getSelectorInput=function(){return $(a.options.selectorInput,a.el)},a._getSelectors=function(){return $(a.options.selectorList+">"+a.options.selectorItem,a.el)},a.init()},$.cuar.fileAttachmentManager.defaultOptions={errorList:".cuar-js-file-attachment-errors",attachmentList:".cuar-js-file-attachments",attachmentItem:".cuar-js-file-attachment",attachmentItemTemplate:".cuar-js-file-attachment-template",errorTemplate:".cuar-js-error-template",selectorList:".cuar-js-file-selectors",selectorItem:".cuar-js-file-selector",selectorInput:".cuar-js-file-selector-input",removeAction:".cuar-js-remove-action",dismissAction:".cuar-js-dismiss"},$.fn.fileAttachmentManager=function(t){return this.each(function(){new $.cuar.fileAttachmentManager(this,t)})}}(jQuery),function($){$.cuar||($.cuar={}),$.cuar.ftpUploader=function(t,e){var a=this;a.$el=$(t),a.el=t,a.$el.data("cuar.ftpUploader",a),a.init=function(){a.options=$.extend({},$.cuar.ftpUploader.defaultOptions,e),a._getAddButton().click(a._onAddButtonClicked),$(document).on("cuar:attachmentManager:fileAttached",a._removeFileFromSelect)},a._removeFileFromSelect=function(t,e,n,r,o,s){"ftp-move"==a._getFtpOperation()&&a._getSelectBox().children().filter(function(){return $(this).val()==r}).remove()},a._onAddButtonClicked=function(t){t.preventDefault();var e=a._getSelectedFiles(),n=a._getPostId(),r=a._getFtpOperation();if(null!=e&&0!=e.length)for(var o=0,s=e.length;o<s;o++){var i=e[o],c=$(document).triggerHandler("cuar:attachmentManager:addItem",[n,i,i]);null!=c&&$(document).trigger("cuar:attachmentManager:sendFile",[c,"ftp-folder",n,a._getNonce(),i,"",r])}},a._getFtpOperation=function(){return a._getCopyCheckbox().is(":checked")?"ftp-copy":"ftp-move"},a._getNonce=function(){return $("#cuar_ftp-folder_"+a._getPostId(),a.el).val()},a._getPostId=function(){return a.$el.data("post-id")},a._getSelectedFiles=function(){return a._getSelectBox().val()},a._getAddButton=function(){return $(a.options.addButton,a.el)},a._getSelectBox=function(){return $(a.options.selectBox,a.el).first()},a._getCopyCheckbox=function(){return $(a.options.copyCheckbox,a.el).first()},a.init()},$.cuar.ftpUploader.defaultOptions={addButton:".cuar-js-ftp-add-files",selectBox:".cuar-js-ftp-file-selection",copyCheckbox:".cuar-js-copy-file-checkbox"},$.fn.ftpUploader=function(t){return this.each(function(){new $.cuar.ftpUploader(this,t)})}}(jQuery),function($){$.cuar||($.cuar={}),$.cuar.gatewayPicker=function(t,e){var a=this;a.$el=$(t),a.el=t,a.$el.data("cuar.gatewayPicker",a),a.init=function(){a.options=$.extend({},$.cuar.gatewayPicker.defaultOptions,e),a._getSelectors().on("change",a._onGatewaySelected)},a._onGatewaySelected=function(t){t.preventDefault();var e=$(this).data("gateway");a._getGatewayForms().hide(0),a._getGatewayForm(e).show(0)},a._getGatewayForms=function(t){return $(a.options.gatewayForm,a.el)},a._getGatewayForm=function(t){return $(a.options.gatewayForm+"[data-gateway="+t+"]",a.el)},a._getSelectors=function(){return $(a.options.gatewaySelector,a.el)},a.init()},$.cuar.gatewayPicker.defaultOptions={gatewaySelector:".cuar-js-gateway-selector",gatewayForm:".cuar-js-gateway-form"},$.fn.gatewayPicker=function(t){return this.each(function(){new $.cuar.gatewayPicker(this,t)})}}(jQuery),function($){$.cuar||($.cuar={}),$.cuar.ajaxFolderAction=function(t,e){var a=this;a.$el=$(t),a.el=t,a.$el.data("cuar.ajaxFolderAction",a),a.init=function(){a.options=$.extend({},$.cuar.ajaxFolderAction.defaultOptions,e),a._getButton().click(a._onButtonClicked)},a._onButtonClicked=function(t){t.preventDefault();var e={_ajax_nonce:a._onGetNonce(),action:"cuar_folder_action",folder_action:a._getAction(),path:a._getPath(),extra:a._getExtra()};a.$el.css("opacity","0.5"),a._getButton().bind("click",function(t){t.preventDefault()}),$.post(cuar.ajaxUrl,e,function(t){if(a.$el.css("opacity","1"),0==t.success)null!=t.data&&t.data.length>0&&alert(t.data),a._getButton().click(a._onButtonClicked);else{var e=a._getSuccessMessage();null!=e&&e.length>0?a.$el.removeClass("cuar-error").addClass("cuar-info").html(e):a.$el.remove()}})},a._onGetNonce=function(){return a.$el.data("nonce")},a._getButton=function(){return $(".button",a.el)},a._getPath=function(){return a.$el.data("path")},a._getAction=function(){return a.$el.data("action")},a._getExtra=function(){return a.$el.data("extra")},a._getSuccessMessage=function(){return a.$el.data("success-message")},a.init()},$.fn.ajaxFolderAction=function(t){return this.each(function(){new $.cuar.ajaxFolderAction(this,t)})}}(jQuery),jQuery(document).ready(function($){$(".cuar-js-license-field").each(function(){var t=$(this);t.on("click",".cuar-js-activate-button",function(e){return e.preventDefault(),activateLicense($,t),!1})})}),function($){$.cuar||($.cuar={}),$.cuar.mediaInputControl=function(t,e){var a=this;a.$el=$(t),a.el=t,a.isBusy=!1,a.fileFrame=null,a.$el.data("cuar.mediaInputControl",a),a.init=function(){a.options=$.extend({},$.cuar.mediaInputControl.defaultOptions,e),a.$el.on("click",".cuar-upload-button",a._onUploadButtonClicked)},a._onUploadButtonClicked=function(t){t.preventDefault();var e=$(this);a.fileFrame||(a.fileFrame=wp.media.frames.file_frame=wp.media({frame:"post",state:"insert",title:e.data("uploader_title"),button:{text:e.data("uploader_button_text")},multiple:!1}),a.fileFrame.on("menu:render:default",function(t){t.unset("library-separator"),t.unset("gallery"),t.unset("featured-image"),t.unset("embed"),t.set({})}),a.fileFrame.on("insert",function(){a.fileFrame.state().get("selection").each(function(t,e){t=t.toJSON(),a._getUrlInputField().val(t.url)})})),a.fileFrame.open()},a._getUrlInputField=function(){return $(a.options.urlInputSelector,a.el)},a.init()},$.cuar.mediaInputControl.defaultOptions={urlInputSelector:".cuar-upload-input"},$.fn.mediaInputControl=function(t){return this.each(function(){new $.cuar.mediaInputControl(this,t)})}}(jQuery),function($){$.cuar||($.cuar={}),$.cuar.paymentDataManager=function(t,e){var a=this;a.$el=$(t),a.el=t,a.$el.data("cuar.paymentDataManager",a),a.init=function(){a.options=$.extend({},$.cuar.paymentDataManager.defaultOptions,e);var t=$(".cuar-datepicker-control input[type=hidden]",a.el),n=$(".cuar-datepicker-control .cuar-datepicker-input",a.el);n.datepicker({dateFormat:a.options.datePickerOptions.dateFormat,altFormat:a.options.rawDateFormat,altField:t}),n.datepicker("setDate",a._formatDate(t.val())),n.val(a._formatDate(t.val()))},a._formatDate=function(t){var e=$.datepicker.parseDate(a.options.rawDateFormat,t,a.options.datePickerOptions);return $.datepicker.formatDate(a.options.datePickerOptions.dateFormat,e,a.options.datePickerOptions)},a.init()},$.cuar.paymentDataManager.defaultOptions={rawDateFormat:"yy-mm-dd",datePickerOptions:{dateFormat:cuar.datepickerDateFormat,closeText:cuar.datepickerCloseText,currentText:cuar.datepickerCurrentText,monthNames:cuar.datepickerMonthNames,monthNamesShort:cuar.datepickerMonthNamesShort,monthStatus:cuar.datepickerMonthStatus,dayNames:cuar.datepickerDayNames,dayNamesShort:cuar.datepickerDayNamesShort,dayNamesMin:cuar.datepickerDayNamesMin,firstDay:cuar.datepickerFirstDay,isRTL:cuar.datepickerIsRTL}},$.fn.paymentDataManager=function(t){return this.each(function(){new $.cuar.paymentDataManager(this,t)})}}(jQuery),function($){$.cuar||($.cuar={}),$.cuar.paymentNotesManager=function(t,e){var a=this;a.$el=$(t),a.el=t,a.$el.data("cuar.paymentNotesManager",a),a.init=function(){a.options=$.extend({},$.cuar.paymentNotesManager.defaultOptions,e),a.$el.on("click",".cuar-js-remove-action",a._onRemoveActionClick),a.$el.on("click",".cuar-js-add-note",a._onAddNoteButtonClick),a._getAddNoteMessageInput().keyup(a._onAddNoteMessageChanged)},a._onAddNoteMessageChanged=function(t){a._updateAddNoteButtonState()},a._updateAddNoteButtonState=function(t){a._canAddNote()?a._getAddNoteButton().removeAttr("disabled"):a._getAddNoteButton().attr("disabled","disabled")},a._canAddNote=function(){return a._getAddNoteMessage().length>0},a._onAddNoteButtonClick=function(t){t.preventDefault();var e={action:"cuar_add_payment_note",payment_id:a._getNoteList().data("payment-id"),message:a._getAddNoteMessage(),cuar_add_payment_note_nonce:a._getNoteListAddNonce()};a._getAddNoteButton().attr("disabled","disabled"),$.post(cuar.ajaxUrl,e,function(t){if(0==t.success)t.data&&alert(t.data),a._updateAddNoteButtonState();else{a._getAddNoteMessageInput().val(""),a._updateAddNoteButtonState();var e=a._getNoteTemplate().clone();a._updateNoteItem(e,t.data.id,t.data.timestamp,t.data.author,t.data.message),e.insertAfter(a._getNoteList().children(".cuar-js-add-note-form")),a._getEmptyMessage().hide()}})},a._onRemoveActionClick=function(t){if(t.preventDefault(),confirm(cuar.confirmDeletePaymentNote)){var e=$(this).closest(a.options.noteItem),n={action:"cuar_delete_payment_note",payment_id:a._getNoteList().data("payment-id"),note_id:e.data("note-id"),cuar_delete_payment_note_nonce:a._getNoteListRemoveNonce()};$.post(cuar.ajaxUrl,n,function(t){0==t.success?t.data&&alert(t.data):e.slideUp(400,function(){e.remove(),a._getNoteCount()<=0?a._getEmptyMessage().show():a._getEmptyMessage().hide()})})}},a._updateNoteItem=function(t,e,a,n,r){t.data("note-id",e),t.children(".cuar-js-timestamp").html(a),t.children(".cuar-js-author").html(n),t.children(".cuar-js-message").html(r)},a._getNoteCount=function(){return a._getNoteList().children(a.options.noteItem).not(a.options.addNoteForm).not(a.options.emptyMessage).not(a.options.noteItemTemplate).length},a._getEmptyMessage=function(){return $(a.options.emptyMessage,a.el)},a._getNoteList=function(){return $(a.options.noteList,a.el)},a._getAddNoteMessage=function(){return $(".cuar-js-new-note-message",a.el).val()},a._getAddNoteMessageInput=function(){return $(".cuar-js-new-note-message",a.el)},a._getAddNoteButton=function(){return $(".cuar-js-add-note",a.el)},a._getNoteListEmptyMessage=function(){return $(".cuar-js-empty-message",a.el)},a._getNoteListAddNonce=function(){return $("#cuar_add_note_nonce",a.el).val()},a._getNoteListRemoveNonce=function(){return $("#cuar_remove_note_nonce",a.el).val()},a._getNoteTemplate=function(){return $(a.options.noteItemTemplate,a.el).children(a.options.noteItem).first()},a._getNoteForm=function(){return $(a.options.addNoteForm,a.el).children(a.options.noteItem).first()},a.init()},$.cuar.paymentNotesManager.defaultOptions={noteList:".cuar-js-payment-notes",noteItem:".cuar-js-payment-note",noteItemTemplate:".cuar-js-payment-note-template",addNoteForm:".cuar-js-add-note-form",emptyMessage:".cuar-js-empty-message"},$.fn.paymentNotesManager=function(t){return this.each(function(){new $.cuar.paymentNotesManager(this,t)})}}(jQuery),function($){$(document).ready(function(){var t=$("body");(t.hasClass("post-type-cuar_conversation")||t.hasClass("post-type-cuar_private_file")||t.hasClass("post-type-cuar_private_page")||t.hasClass("post-type-cuar_project"))&&$(document).on("tinymce-editor-init",function(t,e){e.on("focus",function(t){var a=e.getContent();a.startsWith("<div>")||e.setContent("<div>"+a+"</div>")})})})}(jQuery);